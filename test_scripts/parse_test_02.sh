#/!bin/bash
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_1_mode_0.log > parsed_test_02_sample_1_mode_0_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_10_mode_0.log > parsed_test_02_sample_10_mode_0_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_25_mode_0.log > parsed_test_02_sample_25_mode_0_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_50_mode_0.log > parsed_test_02_sample_50_mode_0_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_75_mode_0.log > parsed_test_02_sample_75_mode_0_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_100_mode_0.log > parsed_test_02_sample_100_mode_0_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_1_mode_1.log > parsed_test_02_sample_1_mode_1_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_10_mode_1.log > parsed_test_02_sample_10_mode_1_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_25_mode_1.log > parsed_test_02_sample_25_mode_1_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_50_mode_1.log > parsed_test_02_sample_50_mode_1_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_75_mode_1.log > parsed_test_02_sample_75_mode_1_result.log
awk 'BEGIN{i=0};{if ($1=="TOTAL"){meta=$10;if($11=="GiB"){ meta=meta*1024} }; if ($1 == "base_pool") {base_used=$2; if ($3=="GiB"){base_used = base_used * 1024}; base_wr=$14;if ($15=="GiB"){base_wr *= 1024}}; if ($1=="chunk_pool"){chunk_used=$2;if ($3=="GiB"){chunk_used*=1024;};chunk_wr=$14;if($15 == "GiB"){chunk_wr*=1024} print i,meta,base_used,base_wr,chunk_used,chunk_wr;i+=5}}' test_02_sample_100_mode_1.log > parsed_test_02_sample_100_mode_1_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_1_mode_0.log >> parsed_test_02_sample_1_mode_0_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_10_mode_0.log >> parsed_test_02_sample_10_mode_0_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_25_mode_0.log >> parsed_test_02_sample_25_mode_0_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_50_mode_0.log >> parsed_test_02_sample_50_mode_0_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_75_mode_0.log >> parsed_test_02_sample_75_mode_0_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_100_mode_0.log >> parsed_test_02_sample_100_mode_0_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_1_mode_1.log >> parsed_test_02_sample_1_mode_1_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_10_mode_1.log >> parsed_test_02_sample_10_mode_1_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_25_mode_1.log >> parsed_test_02_sample_25_mode_1_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_50_mode_1.log >> parsed_test_02_sample_50_mode_1_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_75_mode_1.log >> parsed_test_02_sample_75_mode_1_result.log
awk '{if ($1 == "WRITE:") {print $6,$8}}' test_02_fio_sample_100_mode_1.log >> parsed_test_02_sample_100_mode_1_result.log

